<head>
  <title>futureference</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style type="text/css">
  html, body{
  	background-color: #FFFFFF;
  }
  h1, h2, h3, h4{
  	color: #FF634D;
  }
  </style>
</head>

<body>
<div class="container">
<div class="row text-center">
	<div class="span6 offset3">
  {{> alerts}}
   </div>
</div>
  {{> nav}}
  {{> main}}
 </div>
</body>
<template name="alerts">
{{#if active}}
<div class="alert {{type}}">
  <button type="button" class="close" data-dismiss="alert">&times;</button>
  <strong>{{strongtext}}</strong> {{content}}
</div>
{{/if}}
</template>
<template name="nav">
<div class="row text-center">
  	<div class="span6 offset3">
  		{{loginButtons}}
  		{{#if loggedIn}}
  		<input type="button" value="My Page" class="btnMyPage btn btn-link"/>
  		<input type="button" value="Home" class="btnHome btn btn-link"/>
  		{{/if}}
  	</div>
</div>
</template>

<template name="main">
  {{! it would be cool if this button was evenutally a logo or something}}
  {{#if currentPage}}
  {{> userPage}}
  {{else}}
  {{> home}}
  {{/if}}
</template>

<template name="home">
  <div class="row text-center">
  	<div class="span6 offset3">
  <h1>Futureference</h1>
  <br>
  <br>
  	</div>
  </div>
  {{#if loggedIn}}
  <div class="row text-center">
  <div class="span4">
  <h3>Favorite Quotes:</h3>
  {{#if hasFavs}}
  {{#each FavQuotes}}
  "{{this.quote}}" <br>- {{this.owner}}<br><br>
  {{/each}}
  {{else}}
  No favorites!	
  {{/if}}
  </div>
  <div class="span4">
  	<br>
  {{> userSearch}}
  <br>
  <br>
  {{#if requests}}
  {{#each request}}
  {{this}}<br>
  <input type="button" value="Accept" id="{{this}}" class="btnAcceptFriend btn btn-link"/>
  <input type="button" value="Ignore" id="{{this}}" class="btnIgnoreFriend btn btn-link"/>
  <br>
  {{/each}}
  {{/if}}
  </div>
  <div class="span4">
  	<h3>Recent Quotes:</h3>
  	{{#each RecentQuotes}}
	"{{this.quote}}" <br>- {{this.username}}<br><br>
	{{/each}}
  </div>
  </div>

  {{else}}
  <div class="row text-center">
  	<div class="span6 offset3">
  	<p>In order to view quotes and use the site, you must log in above!</p>
  	</div>
  </div>
  {{/if}}
  <br>
  <br>
  <br>
</template>

<template name="userSearch">
	<input type="text" data-provide="typeahead" data-source='["{{friendData}}"]' id="txtFriendSearch" placeholder="Search by Email or Username">
</template>

<template name="userPage">
<div class="row text-center">
	<div class="span6 offset3">
		<h1>{{userName}}</h1>
		{{#if loggedIn}}
		{{#if friends}}
		friends
		{{else}}
		{{#if sent}}
		request sent
		{{else}}
		<input type="button" value="Add Friend" class="btnAddFriend btn btn-link"/>
		{{/if}}
		{{/if}}
		{{/if}}
	</div>
</div>
<div class="row text-center">
	<div class="span6 offset3">
		{{#if friends}}
		<input type="text" id="txtAddQuote" placeholder="So fickle is the heart..."/>
		{{/if}}
	</div>
</div>
<div class="row text-center">
	<div class="span6 offset3">
		{{#if friends}}
		{{#each user}}
    	{{>quote}}
		{{/each}}
		{{/if}}
	</div>
</div>
</template>

<template name="quote">
{{#if selectedQuote}}
<p data-toggle="tooltip" class="quotes" data-animation = "true" title= "Likes: {{totalLiked}}">{{quote}}</p>
{{#if isOwner}}
<input type="button" value="Delete" class="btnDelete btn btn-link"/>
{{/if}}
{{#unless isOwner}}
{{#unless isFaved}}

<input type="button" value="Favorite" class="btnFavorite btn-link"/>
{{else}}
<input type="button" value="Favorited" class="btnUnFav btn-link"/>

{{/unless}}

{{/unless}}
{{/if}}
{{#unless selectedQuote}}
<p><data-toggle="tooltip" class="quotes" data-animation = "true" title= "Likes: {{totalLiked}}">{{quote}}</a></p>
{{/unless}}
</template>
